# ë„¤íŠ¸ì›Œí¬ í”„ë¡œê·¸ë˜ë° í…€í”„ë¡œì íŠ¸ ì œì•ˆì„œ

## íŒ€ëª… : 7
íŒ€ì› : ì •ìˆ˜ì—°, ì´ê±´ìš°

1. ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

| **ê²Œì„ëª…** | íŒë’¤ì§‘ê¸° |
| --- | --- |
| í”Œë«í¼ | ë°ìŠ¤í¬í†± (Java ê¸°ë°˜) |
| í•µì‹¬ ê¸°ìˆ  | Java GUI |
| ê²Œì„ ëª©í‘œ | ì œí•œ ì‹œê°„ ë‚´ì— í™”ë©´ì˜ ê³ ì •ëœ ë‹¨ì–´ë¥¼ íƒ€ìë¡œ ì…ë ¥í•˜ì—¬ ë” ë§ì´ **ìì‹ ì˜ íŒ€ ìƒ‰ê¹”ë¡œ ë’¤ì§‘ëŠ”(ì ë ¹í•˜ëŠ”)** íŒ€ì´ ìŠ¹ë¦¬ |
| ìµœëŒ€ ì¸ì› | 4ëª… (2 vs 2 ë˜ëŠ” 1 vs 1 íŒ€ì „ ê°€ëŠ¥) |

### 2. ğŸ’¡ í•µì‹¬ ê²Œì„ ë©”ì»¤ë‹ˆì¦˜

| ìš”ì†Œ | ì„¸ë¶€ ì‚¬í•­ |
| --- | --- |
| **ê²Œì„ ë³´ë“œ** | í™”ë©´ ì¤‘ì•™ì— ìˆ˜ì‹­ ê°œì˜ í•œêµ­ì–´ ë‹¨ì–´ ë¸”ë¡ì´ **ê³ ì •ëœ ìƒíƒœ**ë¡œ ë°°ì¹˜ë©ë‹ˆë‹¤. |
| **ì…ë ¥ ë°©ì‹** | í”Œë ˆì´ì–´ëŠ” í™”ë©´ì— ë³´ì´ëŠ” ë‹¨ì–´ë¥¼ ì…ë ¥ ì°½ì— ì •í™•íˆ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. |
| **ì ë ¹ ë¡œì§** | ë‹¨ì–´ ì…ë ¥ì„ ì™„ë£Œí•˜ë©´ í•´ë‹¹ ë‹¨ì–´ ë¸”ë¡ì˜ ìƒ‰ê¹”ì´
**í”Œë ˆì´ì–´ì˜ íŒ€ ìƒ‰ê¹”**
ë¡œ ì¦‰ì‹œ ë³€ê²½ë©ë‹ˆë‹¤. |
| **ê²½ìŸ (ì¬ì ë ¹)** | ì´ë¯¸ ìƒëŒ€ íŒ€ì´ ì ë ¹í•œ ë‹¨ì–´ë¼ë„, ì•„êµ° í”Œë ˆì´ì–´ê°€ í•´ë‹¹ ë‹¨ì–´ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ë©´
**ì ë ¹ ìƒíƒœë¥¼ ë’¤ì§‘ì–´**
ì ìˆ˜ë¥¼ ëºì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. |
| ìŠ¹ë¦¬ ì¡°ê±´ | ì œí•œ ì‹œê°„ (ì˜ˆ: 60ì´ˆ) ì¢…ë£Œ ì‹œ, **ì ë ¹í•œ ë‹¨ì–´ì˜ ì´í•© ì ìˆ˜**ê°€ ë†’ì€ íŒ€ì´ ìŠ¹ë¦¬í•©ë‹ˆë‹¤. |
|  |  |
|  |  |

### 3.  â­ï¸ê²Œì„ ì•„ì´ë””ì–´ ìš”ì•½

- **ê¸°ë°˜:** íƒ€ì ê²Œì„
- **íŠ¹ì§• :** í™”ë©´ì— **ê³ ì •ëœ ë‹¨ì–´ë“¤**ì´ ìˆê³ , í”Œë ˆì´ì–´ë“¤ì´ í•´ë‹¹ ë‹¨ì–´ë¥¼ **ë” ë§ì´** ì…ë ¥í•˜ì—¬ **ë‹¨ì–´ì˜ ìƒ‰ê¹”/ìƒíƒœë¥¼ ë’¤ì§‘ëŠ”(ì ë ¹í•˜ëŠ”) ë°©ì‹**ì˜ ê²½ìŸ ê²Œì„ì…ë‹ˆë‹¤.
- **ëª©í‘œ:** ì œí•œ ì‹œê°„ ë‚´ì— ë” ë§ì€ ë‹¨ì–´ë¥¼ ë’¤ì§‘ì–´ **ë” ë†’ì€ ì ìˆ˜ë¥¼ ì–»ëŠ” ê²ƒ**

```java
íŒë’¤ì§‘ê¸°/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â”œâ”€â”€ Protocol.java          # í†µì‹  í”„ë¡œí† ì½œ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ GameConstants.java     # ê²Œì„ ìƒìˆ˜
â”‚   â”‚   â”œâ”€â”€ Word.java             # ë‹¨ì–´ í´ë˜ìŠ¤
â”‚   â”‚   â””â”€â”€ Player.java           # í”Œë ˆì´ì–´ ì •ë³´
â”‚   â”‚
â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”œâ”€â”€ GameServer.java       # ë©”ì¸ ì„œë²„
â”‚   â”‚   â”œâ”€â”€ ClientHandler.java    # í´ë¼ì´ì–¸íŠ¸ í•¸ë“¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ GameRoom.java         # ê²Œì„ ë£¸ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ GameLogic.java        # ê²Œì„ ë¡œì§
â”‚   â”‚
â”‚   â””â”€â”€ client/
â”‚       â”œâ”€â”€ GameClient.java       # ë©”ì¸ í´ë¼ì´ì–¸íŠ¸
â”‚       â”œâ”€â”€ ui/
â”‚       â”‚   â”œâ”€â”€ MainFrame.java    # ë©”ì¸ í™”ë©´
â”‚       â”‚   â”œâ”€â”€ GamePanel.java    # ê²Œì„ í™”ë©´
â”‚       â”‚   â””â”€â”€ WordBlock.java    # ë‹¨ì–´ ë¸”ë¡ UI
â”‚       â””â”€â”€ network/
â”‚           â””â”€â”€ ServerConnection.java  # ì„œë²„ ì—°ê²°
```

### 4. í†µì‹  í”„ë¡œí† ì½œ

```java
// Protocol.java
public class Protocol {
    // ë©”ì‹œì§€ íƒ€ì…
    public static final int LOGIN = 100;
    public static final int GAME_START = 200;
    public static final int WORD_INPUT = 300;
    public static final int GAME_UPDATE = 400;
    public static final int GAME_END = 500;
    
    // ë©”ì‹œì§€ êµ¬ì¡°: [TYPE][LENGTH][DATA]
    // ì˜ˆ: "300|7|ì•ˆë…•"
}
```

### ì£¼ìš” ë©”ì‹œì§€ íë¦„
```
1. ë¡œê·¸ì¸/ë°© ì…ì¥
   Client â†’ Server: LOGIN|playerName|teamNumber
   Server â†’ Client: LOGIN_OK|playerId|roomInfo

2. ê²Œì„ ì‹œì‘
   Server â†’ All: GAME_START|wordList|timeLimit

3. ë‹¨ì–´ ì…ë ¥
   Client â†’ Server: WORD_INPUT|playerId|word
   Server â†’ All: GAME_UPDATE|wordIndex|teamColor|score

4. ê²Œì„ ì¢…ë£Œ
   Server â†’ All: GAME_END|winnerTeam|finalScores
```

### 5.

```java
public class MessageType {
    // 1XX: ì—°ê²° ë° ì¸ì¦
    public static final String LOGIN_REQ = "LOGIN_REQ";              // ë¡œê·¸ì¸ ìš”ì²­
    public static final String LOGIN_RES = "LOGIN_RES";              // ë¡œê·¸ì¸ ì‘ë‹µ
    public static final String LOGOUT_REQ = "LOGOUT_REQ";            // ë¡œê·¸ì•„ì›ƒ ìš”ì²­
    public static final String HEARTBEAT = "HEARTBEAT";              // ì—°ê²° ìœ ì§€
    
    // 2XX: ê²Œì„ ë£¸ ê´€ë¦¬
    public static final String ROOM_LIST_REQ = "ROOM_LIST_REQ";      // ë°© ëª©ë¡ ìš”ì²­
    public static final String ROOM_LIST_RES = "ROOM_LIST_RES";      // ë°© ëª©ë¡ ì‘ë‹µ
    public static final String ROOM_CREATE_REQ = "ROOM_CREATE_REQ";  // ë°© ìƒì„± ìš”ì²­
    public static final String ROOM_CREATE_RES = "ROOM_CREATE_RES";  // ë°© ìƒì„± ì‘ë‹µ
    public static final String ROOM_JOIN_REQ = "ROOM_JOIN_REQ";      // ë°© ì…ì¥ ìš”ì²­
    public static final String ROOM_JOIN_RES = "ROOM_JOIN_RES";      // ë°© ì…ì¥ ì‘ë‹µ
    public static final String ROOM_LEAVE_REQ = "ROOM_LEAVE_REQ";    // ë°© í‡´ì¥ ìš”ì²­
    public static final String ROOM_UPDATE = "ROOM_UPDATE";          // ë°© ì •ë³´ ì—…ë°ì´íŠ¸
    
    // 3XX: ê²Œì„ ì§„í–‰
    public static final String GAME_READY = "GAME_READY";            // ê²Œì„ ì¤€ë¹„
    public static final String GAME_START = "GAME_START";            // ê²Œì„ ì‹œì‘
    public static final String WORD_INPUT = "WORD_INPUT";            // ë‹¨ì–´ ì…ë ¥
    public static final String WORD_CAPTURE = "WORD_CAPTURE";        // ë‹¨ì–´ ì ë ¹ ì•Œë¦¼
    public static final String GAME_STATE = "GAME_STATE";            // ê²Œì„ ìƒíƒœ ë™ê¸°í™”
    public static final String GAME_END = "GAME_END";                // ê²Œì„ ì¢…ë£Œ
    
    // 4XX: ì±„íŒ…
    public static final String CHAT_MSG = "CHAT_MSG";                // ì±„íŒ… ë©”ì‹œì§€
    
    // 5XX: ì—ëŸ¬
    public static final String ERROR = "ERROR";                      // ì—ëŸ¬ ë©”ì‹œì§€
}
```

### 6.  í”„ë¡œì íŠ¸ ê³„íš

### Week 1: ê¸°ì´ˆ êµ¬ì¡°

1. í”„ë¡œí† ì½œ ì •ì˜ ì™„ë£Œ
2. ê¸°ë³¸ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
3. ë‹¨ìˆœ ë©”ì‹œì§€ ì£¼ê³ ë°›ê¸° í…ŒìŠ¤íŠ¸

### Week 2: í•µì‹¬ ê¸°ëŠ¥

1. ê²Œì„ ë£¸ ì‹œìŠ¤í…œ
2. ë‹¨ì–´ ì…ë ¥ ë° ì ë ¹ ë¡œì§
3. ì‹¤ì‹œê°„ ë™ê¸°í™”

### Week 3: UI/UX

1. ê²Œì„ í™”ë©´ ë””ìì¸
2. ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
3. ì‚¬ìš´ë“œ íš¨ê³¼ (ì„ íƒ)

### Week 4: ë§ˆë¬´ë¦¬

1. ë²„ê·¸ ìˆ˜ì •
2. ì„±ëŠ¥ ìµœì í™”
3. ìµœì¢… í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™”

### 7. ë©”ì‹œì§€ ìƒì„¸ ì •ì˜

### 7.1 ì—°ê²° ë° ì¸ì¦

```java
*// ë¡œê·¸ì¸ ìš”ì²­// Client â†’ Server*
LOGIN_REQ|ë°ì´í„°ê¸¸ì´|playerName:ì´ë¦„

*// ë¡œê·¸ì¸ ì‘ë‹µ// Server â†’ Client*
LOGIN_RES|ë°ì´í„°ê¸¸ì´|status:SUCCESS;playerId:P001;playerName:ì´ë¦„

*// í•˜íŠ¸ë¹„íŠ¸ (30ì´ˆë§ˆë‹¤)// Client â†” Server*
HEARTBEAT|0|
```

### 7.2 ê²Œì„ ë£¸ ê´€ë¦¬

java

```java
*// ë°© ëª©ë¡ ìš”ì²­/ì‘ë‹µ// Client â†’ Server*
ROOM_LIST_REQ|0|

*// Server â†’ Client*
ROOM_LIST_RES|ë°ì´í„°ê¸¸ì´|room1:R001:2/4:waiting;room2:R002:4/4:playing

*// ë°© ìƒì„±// Client â†’ Server*
ROOM_CREATE_REQ|ë°ì´í„°ê¸¸ì´|roomName:ì¦ê±°ìš´ê²Œì„ë°©;maxPlayers:4

*// Server â†’ Client*
ROOM_CREATE_RES|ë°ì´í„°ê¸¸ì´|status:SUCCESS;roomId:R003

*// ë°© ì…ì¥// Client â†’ Server*
ROOM_JOIN_REQ|ë°ì´í„°ê¸¸ì´|roomId:R001;team:1

*// Server â†’ Client*
ROOM_JOIN_RES|ë°ì´í„°ê¸¸ì´|status:SUCCESS;team:1;players:P001:ì´ë¦„:1;P002:ê¹€ì² ìˆ˜:2

*// ë°© ì •ë³´ ì—…ë°ì´íŠ¸ (ë¸Œë¡œë“œìºìŠ¤íŠ¸)// Server â†’ All Clients in Room*
ROOM_UPDATE|ë°ì´í„°ê¸¸ì´|players:P001:ì´ë¦„:1:ready;P002:ê¹€ì² ìˆ˜:2:notready
```

### 7.3 ê²Œì„ ì§„í–‰

java

```java
*// ê²Œì„ ì¤€ë¹„// Client â†’ Server*
GAME_READY|ë°ì´í„°ê¸¸ì´|playerId:P001;ready:true

*// ê²Œì„ ì‹œì‘ (ëª¨ë“  í”Œë ˆì´ì–´ ì¤€ë¹„ ì™„ë£Œ ì‹œ)// Server â†’ All Clients*
GAME_START|ë°ì´í„°ê¸¸ì´|timeLimit:60;wordList:0:ì•ˆë…•:5;1:ì‚¬ê³¼:3;2:ì»´í“¨í„°:7;3:ë„¤íŠ¸ì›Œí¬:10

*// ë‹¨ì–´ ì…ë ¥// Client â†’ Server*
WORD_INPUT|ë°ì´í„°ê¸¸ì´|playerId:P001;word:ì•ˆë…•

*// ë‹¨ì–´ ì ë ¹ ì•Œë¦¼ (ë¸Œë¡œë“œìºìŠ¤íŠ¸)// Server â†’ All Clients*
WORD_CAPTURE|ë°ì´í„°ê¸¸ì´|wordIndex:0;team:1;capturedBy:P001;points:5

*// ê²Œì„ ìƒíƒœ ë™ê¸°í™” (1ì´ˆë§ˆë‹¤)// Server â†’ All Clients*
GAME_STATE|ë°ì´í„°ê¸¸ì´|time:45;team1Score:25;team2Score:30;wordStates:0:1;1:2;2:1;3:0

*// ê²Œì„ ì¢…ë£Œ// Server â†’ All Clients*
GAME_END|ë°ì´í„°ê¸¸ì´|winner:1;team1Score:55;team2Score:45;mvp:P001:15
```

### 7.4 ì±„íŒ…

java

```java
*// ê²Œì„ ì¤€ë¹„// Client â†’ Server*
GAME_READY|ë°ì´í„°ê¸¸ì´|playerId:P001;ready:true

*// ê²Œì„ ì‹œì‘ (ëª¨ë“  í”Œë ˆì´ì–´ ì¤€ë¹„ ì™„ë£Œ ì‹œ)// Server â†’ All Clients*
GAME_START|ë°ì´í„°ê¸¸ì´|timeLimit:60;wordList:0:ì•ˆë…•:5;1:ì‚¬ê³¼:3;2:ì»´í“¨í„°:7;3:ë„¤íŠ¸ì›Œí¬:10

*// ë‹¨ì–´ ì…ë ¥// Client â†’ Server*
WORD_INPUT|ë°ì´í„°ê¸¸ì´|playerId:P001;word:ì•ˆë…•

*// ë‹¨ì–´ ì ë ¹ ì•Œë¦¼ (ë¸Œë¡œë“œìºìŠ¤íŠ¸)// Server â†’ All Clients*
WORD_CAPTURE|ë°ì´í„°ê¸¸ì´|wordIndex:0;team:1;capturedBy:P001;points:5

*// ê²Œì„ ìƒíƒœ ë™ê¸°í™” (1ì´ˆë§ˆë‹¤)// Server â†’ All Clients*
GAME_STATE|ë°ì´í„°ê¸¸ì´|time:45;team1Score:25;team2Score:30;wordStates:0:1;1:2;2:1;3:0

*// ê²Œì„ ì¢…ë£Œ// Server â†’ All Clients*
GAME_END|ë°ì´í„°ê¸¸ì´|winner:1;team1Score:55;team2Score:45;mvp:P001:15
```

### 7.5 ì—ëŸ¬ ì²˜ë¦¬

java

```java
*// ì—ëŸ¬ ë©”ì‹œì§€// Server â†’ Client*
ERROR|ë°ì´í„°ê¸¸ì´|code:E001;message:ì´ë¯¸ ì ë ¹ëœ ë‹¨ì–´ì…ë‹ˆë‹¤

*// ì—ëŸ¬ ì½”ë“œ*
E001: ì´ë¯¸ ì ë ¹ëœ ë‹¨ì–´
E002: ì˜ëª»ëœ ë‹¨ì–´ ì…ë ¥
E003: ë°©ì´ ê°€ë“ ì°¸
E004: ê²Œì„ì´ ì´ë¯¸ ì‹œì‘ë¨
E005: ê¶Œí•œ ì—†ìŒ
E006: íƒ€ì„ì•„ì›ƒ
```

### 8. ë©”ì‹œì§€ ì²˜ë¦¬ í´ë˜ìŠ¤

java

```java
*// Message.java*
public class Message {
    private String type;
    private int length;
    private Map<String, String> data;
    
    *// ë©”ì‹œì§€ ìƒì„±*
    public static Message create(String type, Map<String, String> data) {
        Message msg = new Message();
        msg.type = type;
        msg.data = data;
        msg.length = calculateLength(data);
        return msg;
    }
    
    *// ë©”ì‹œì§€ íŒŒì‹±*
    public static Message parse(String rawMessage) {
        String[] parts = rawMessage.split("\\|", 3);
        Message msg = new Message();
        msg.type = parts[0];
        msg.length = Integer.parseInt(parts[1]);
        msg.data = parseData(parts[2]);
        return msg;
    }
    
    *// ë©”ì‹œì§€ ì§ë ¬í™”*
    public String serialize() {
        StringBuilder dataStr = new StringBuilder();
        for (Map.Entry<String, String> entry : data.entrySet()) {
            dataStr.append(entry.getKey())
                   .append(FIELD_SEPARATOR)
                   .append(entry.getValue())
                   .append(DATA_SEPARATOR);
        }
        return type + DELIMITER + length + DELIMITER + dataStr.toString();
    }
}
```

### 9. ë„¤íŠ¸ì›Œí¬ í†µì‹  íë¦„ë„

[ê²Œì„ ì‹œì‘ê¹Œì§€ì˜ íë¦„]
1. Client â†’ Server: LOGIN_REQ
2. Server â†’ Client: LOGIN_RES
3. Client â†’ Server: ROOM_LIST_REQ
4. Server â†’ Client: ROOM_LIST_RES
5. Client â†’ Server: ROOM_JOIN_REQ
6. Server â†’ Client: ROOM_JOIN_RES
7. Server â†’ All: ROOM_UPDATE
8. Client â†’ Server: GAME_READY
9. Server â†’ All: GAME_START

[ê²Œì„ ì¤‘ íë¦„]
1. Client â†’ Server: WORD_INPUT
2. Server â†’ All: WORD_CAPTURE
3. Server â†’ All: GAME_STATE (1ì´ˆë§ˆë‹¤)
4. Server â†’ All: GAME_END

[ì—°ê²° ìœ ì§€]
- Client â†” Server: HEARTBEAT (30ì´ˆë§ˆë‹¤)

### 10. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

```java
public class SecurityProtocol {
    *// ë©”ì‹œì§€ ê²€ì¦*
    public static boolean validateMessage(Message msg) {
        *// 1. ë©”ì‹œì§€ ê¸¸ì´ ê²€ì¦*
        if (msg.getLength() > MAX_MESSAGE_SIZE) return false;
        
        *// 2. ë©”ì‹œì§€ íƒ€ì… ê²€ì¦*
        if (!isValidMessageType(msg.getType())) return false;
        
        *// 3. ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦*
        if (msg.getLength() != msg.getData().length()) return false;
        
        return true;
    }
    
    *// SQL Injection ë°©ì§€*
    public static String sanitizeInput(String input) {
        return input.replaceAll("[^ê°€-í£a-zA-Z0-9\\s]", "");
    }
}
```